define("js/app/controller/user/CgMoney",["js/app/controller/base","js/app/util/ajax","js/app/module/loading/loading","js/app/util/dict"],function(t,n,a,l){function s(){a.showLoading(),e().then(function(n){if(n.success){for(var a=n.data,l=0;l<a.length;l++)if("CGB"==a[l].currency){u.accountNumber=a[l].accountNumber,$("#amount").html(t.formatMoneyD(a[l].amount));break}i()}}),r()}function e(){return n.get("802503",{userId:t.getUserId()})}function i(){n.get("802524",u).then(function(n){if(n.success&&n.data.list.length){var a="";$.each(n.data.list,function(n,l){var s=+l.transAmount>=0?!0:!1,e=s?"t_21b504":"t_f64444",i=s&&"+"||"";a+='<li class="plr20 ptb20 b_bd_b clearfix lh15rem"><div class="wp60 fl s_10"><p class="t_4d">'+l.bizNote+'</p><p class="s_09 t_999 pt10">'+t.formatDate(l.createDatetime,"yyyy-MM-dd hh:mm:ss")+'</p></div><div class="wp40 fl tr '+e+' s_10"><span class="inline_block va-m pt1em">'+i+t.formatMoneyD(l.transAmount)+"</span></div></li>"}),$("#fd-ul").html(a)}else n.msg?(t.showMsg(n.msg),1==u.start&&c()):1==u.start&&c("暂无资金流水!")})}function o(){$("#fd-ul").append('<li class="scroll-loadding"></li>')}function c(t){$("#fd-ul").html('<li class="bg_fff" style="text-align: center;line-height: 93px;">'+(t||"暂时无法查到数据!")+"</li>")}function r(){$("#buyCg").on("click",function(){location.href="../pay/buyCgM.html"}),$(window).on("scroll",function(){d&&!f&&$(document).height()-$(window).height()-10<=$(document).scrollTop()&&(d=!1,o(),r())})}{var u={start:1,limit:20},f=!1,d=!1;l.get("fundType")}s()});