define("js/app/controller/operator/AddAddress",["js/app/controller/base","js/app/util/ajax","js/app/util/dialog","js/lib/handlebars.runtime-v3.0.3"],function(e,t){$(function(){function a(){$("#accept_name").on("change",o),$("#mobile").on("change",i),$("#provinceCode").on("change",c),$("#cityCode").on("change",r),$("#districtCode").on("change",s),$("#street").on("change",l),$("#sbtn").on("click",function(){f()&&(u?d("805162",u):d("805160"))}),u&&n()}function n(){t.get("805166",{code:u}).then(function(t){if(t.success){var a=t.data.addressee,n=t.data.mobile,d=t.data.province,o=t.data.city,i=t.data.district,c=t.data.detailAddress;m=g?1:t.data.isDefault,$("#accept_name").val(a),$("#mobile").val(n),$("#provinceCode").val(d),$("#cityCode").val(o),$("#districtCode").val(i),$("#street").val(c)}else e.showMsg(t.msg)})}function d(a,n){if($("#loaddingIcon").removeClass("hidden"),n)var d={userId:v,code:n,addressee:$("#accept_name").val(),mobile:$("#mobile").val(),province:$("#provinceCode").val(),city:$("#cityCode").val(),district:$("#districtCode").val(),detailAddress:$("#street").val(),isDefault:m};else var d={userId:v,addressee:$("#accept_name").val(),mobile:$("#mobile").val(),province:$("#provinceCode").val(),city:$("#cityCode").val(),district:$("#districtCode").val(),detailAddress:$("#street").val(),isDefault:m};t.post(a,{json:d}).then(function(t){$("#loaddingIcon").addClass("hidden"),t.success?g?location.href=p:e.getBack():e.showMsg(t.msg)})}function o(){return""==$("#accept_name").val()?($("#accept_name").next().fadeIn(300).fadeOut(2e3),!1):$("#accept_name").val().length>20?($("#accept_name").next().next().fadeIn(300).fadeOut(2e3),!1):!0}function i(){return""==$("#mobile").val()?($("#mobile").next().fadeIn(300).fadeOut(2e3),!1):/^1[3,4,5,7,8]\d{9}$/.test($("#mobile").val())?!0:($("#mobile").next().next().fadeIn(300).fadeOut(2e3),!1)}function c(){return""==$("#provinceCode").val()?($("#provinceCode").next().fadeIn(300).fadeOut(2e3),!1):$("#provinceCode").val().length>20?($("#provinceCode").next().next().fadeIn(300).fadeOut(2e3),!1):!0}function r(){return""==$("#cityCode").val()?($("#cityCode").next().fadeIn(300).fadeOut(2e3),!1):$("#cityCode").val().length>20?($("#cityCode").next().next().fadeIn(300).fadeOut(2e3),!1):!0}function s(){return""==$("#districtCode").val()?($("#districtCode").next().fadeIn(300).fadeOut(2e3),!1):$("#districtCode").val().length>20?($("#districtCode").next().next().fadeIn(300).fadeOut(2e3),!1):!0}function l(){return""==$("#street").val()?($("#street").next().fadeIn(300).fadeOut(2e3),!1):$("#street").val().length>128?($("#street").next().next().fadeIn(300).fadeOut(2e3),!1):!0}function f(){return o()&&i()&&c()&&r()&&s()&&l()?!0:!1}var v=e.getUserId(),u=(sessionStorage.getItem("token"),e.getUrlParam("eCode")),p=sessionStorage.getItem("returnhref"),g=e.getUrlParam("return"),m=1;a()})});