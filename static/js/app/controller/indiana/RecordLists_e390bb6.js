define("js/app/controller/indiana/RecordLists",["js/app/controller/base","js/app/util/ajax","js/app/util/dialog","js/app/util/dict"],function(s,n,a){function t(){i()}function i(){var a={companyCode:COMPANYCODE,start:c,limit:p};$.when(n.post("615025",{json:a}),s.getDictList("802006","currency")).then(function(s,n){if(s.success&&n.success){var a=n.data;lists=s.data.list;var t=+s.data.totalCount;(p>=t||lists.length<p)&&(r=!0);for(var i="",o=0;o<lists.length;o++){var u=lists[o];if(0!=u.status){var f=u.user.loginName,g=u.times,m="";m+='<p class="ptb4"><span class="indianaType">参与</span><span class="mobile">'+f+'</span>参与<span class="indianaInfo">'+g+"</span>次夺宝</p>",2==u.status&&(m+='<p class="ptb4"><span class="indianaType">中奖</span><span class="mobile">'+f+'</span>中得<span class="indianaInfo">'+u.jewel.toAmount/1e3+l(u.jewel.toCurrency,a)+"</span></p>"),i+=m}}e(),$(".secord").append(i),c++}d=!0})}function o(){$(".secord").append('<p class="scroll-loadding"></p>')}function e(){$(".secord").find(".scroll-loadding").remove()}function l(s,n){for(var a=0;a<n.length;a++)if(s==n[a].dkey)return n[a].dvalue}var c=1,p=50,r=!1,d=!1;t(),$(window).on("scroll",function(){d&&!r&&$(document).height()-$(window).height()-10<=$(document).scrollTop()&&(d=!1,o(),i())})});