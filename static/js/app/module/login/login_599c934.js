define("js/app/module/login/login",["js/lib/jquery-2.1.4","js/app/util/ajax","js/app/module/loading/loading","js/app/util/dialog","js/app/module/validate/validate"],function(e,i,o,n){function t(){e("head").append("<style>"+u+"</style>")}function l(){var i=e("#login-module-wrap");i.find(".city-select-module-title").on("touchmove",function(e){e.preventDefault()}),i.find(".city-select-module-back").on("click",function(){g.hideCont()}),i.find("#weChatIcon").on("click",function(){location.href="../user/redirect.html"}),e("#loginForm").validate({rules:{mobile:{required:!0,mobile:!0},password:{required:!0,maxlength:16,minlength:6,isNotFace:!0}},onkeyup:!1}),e("#loginBtn").on("click",d),e("#loginFdPwd").attr("href","../user/findPwd.html")}function a(e,i){var o=n({content:e,quickClose:!0});o.show(),setTimeout(function(){o.close().remove()},i||1500)}function d(){if(e("#loginForm").valid()){o.createLoading("登录中...");var n={loginName:e("#mobile").val(),loginPwd:e("#password").val(),kind:"f1"};i.post("805043",{json:n}).then(function(e){o.hideLoading(),e.success?(s(e),location.reload(!0)):(r(),a(e.msg))},function(){o.hideLoading(),base.clearSessionUser(),a("登录失败")})}}function s(e){sessionStorage.setItem("user",e.data.userId),sessionStorage.setItem("tk",e.data.token)}function r(){sessionStorage.removeItem("user"),sessionStorage.removeItem("tk")}var c='<div class="city-select-module-wrap" id="login-module-wrap">\r\n	<div class="city-select-module-title">\r\n        <div class="city-select-module-back"></div>\r\n        <div class="city-select-module-title-name">登录</div>\r\n    </div>\r\n    <div id="login-module-wrapper" class="login-module-wrapper">\r\n        <div class="login-module-top-tip">若您已经绑定过手机号，可直接使用手机号进行登录。</div>\r\n        <form class="register-wrap" id="loginForm">\r\n            <div class="wp100 bg_fff">\r\n                <div class="reg-item b-b-e9 reg-item-user">\r\n                    <div class="p_r wp100">\r\n                        <input type="tel" placeholder="请输入手机号码" id="mobile" name="mobile" class="reg-input"/>\r\n                    </div>\r\n                </div>\r\n                <div class="reg-item b-b-e9 reg-item-password">\r\n                    <div class="p_r wp100">\r\n                        <input type="password" placeholder="请输入密码" id="password" name="password" class="reg-input"/>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </form>\r\n        <div class="special-button">\r\n            <input type="button" id="loginBtn" value="登录"/>\r\n            <div class="reg-b-tip">\r\n                <a id="loginFdPwd" class="reg-br-tip">找回密码?</a>\r\n            </div>\r\n        </div>\r\n        <div class="login-module-tip">\r\n            <div>若您还未注册，请先进行微信登录，并绑定手机号</div>\r\n        </div>\r\n        <div class="tc"><img id="weChatIcon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAFbElEQVRoQ+1ZzVIbRxDuHgk4Bj+B4QkQVUHKLeKYioX1kzvyE1h5guAnQDyBxT0SAtmVI/LNiFR5/QRWniBwROxOp3qXxavdmZ3ZXdmucmVvlGZ6+uvfrxuE7+TD7wQHrBxI86+ftvCedhCpggAVANyMGotIOoB4Q0TTs4Prd6sy5EqAsPLClYdA2EWErWzK0RgQxt794nzccm6y3f18uhCQ3yY/1gnESwBs5lUgvEdEN4DQl+7iJA+gXECaZ5VNUdo4RoRuUQDx+wwIBfSGz2anWWRnBsJekCTOEJdjP8ujdmdp7LmLF7beyQSkM6m9BIC+nSLFTxHBXJZka/zrtWOSZg2kfVF7/SVCyaQgh5os0b4JjBWQ9qR6hIB/mB79Ur/bgDECaV/sdRHFa7OSdEsEyyGAuIUAT813zSf8MPPudnU5kwqk+XavIjy81Cc23QLgwBNyoHO932PuvTog9hBwx6xy2gkaDxuzlupEKpDOpHYJAHWN6BPPvTuyrSosozOpNgmwX8RLRPLF6OB6ENdJCyQtpHTCbKwd9KD1MSL+bHNe1Wekt9iOGzAFSO2Tim4UARFVqn1RneYGA/Rq1JgdReUpgaR442TYuOpFBfh5JPG5FHSuypMgnGBHlsXp+Jf38/Cu75nyhpMnzLiKjQ5mT4xA1LlBt5672Iq7tH1R/ZeLgUo4gyxJ8cF/kOB8eHC1xMnsK2IyCOORkfAIV5mSS58U8ZvwBp9pT6oOVyMiejc6mC0VhkCWdADwBwA6HTZmCW7WmVRvgt8zfjHDJIDorITg7f/Z+Huqeo75l+u6jqqCcQiVy+VKeJf/xtLaDiIGoHNR/0CLYePqUf8EkM6kOgDAw7jCXhm3ozGe0X7wSPkJkQRMBXl+83QF3pQlbUosVVBCHRCe28qOGlcF5AMAVhJA3LsnWXrGcoXaO0YQ294a9kzG8MPxnvo2gAjh99GzK5/EKoDUSGWRtNBKsyCTTRDwMXzQ1trtN7UeEhynnadIGbYGkqd/MNkEormqE9sAMlW1aIFZArJULhMvkTNszHZtFOAzAceSg0Qle7vnh2285wRLC+9pfCHRuajxTK/MGy2QICFLzK+UX5bw6kxqfRWZDPuOJ+RuFMxjP4rEfWgQTTsALRC+2Jmoc8SvlDzkrIldU8LyWaYgcW/48tnCABBPfAZOQHUpqBv3Vtir4tbNDSQQRI7nLvZNFUwHxDY0l6qedrD73GSTDXFSm5v4j83Exv1I1clXCSS1atmzUmoNGzM/TFTfKj2iS/jUhmg3n9PtsDHzV6GdN9VDIGCG6/AaNAQlEPtZqlx6LwqIafyMF2nSSdIYZaxa6XSKIAcE4ljFAsJreXpP/EldLyGgj6PG7JGBqOcRQ57420CLBZ1pYWDKl7SdQZSesBwNkFWuf+yqXBwUs+RSef1S5/E4iVUCSZlJTEbU/E6OVxYtm/4TNkFxT5f6zX5yttHO7Do6nxOJ30z9bXts5FXJS6dKAKqRQgvkwbXzXNObAS3nDiI5XOke4rtCxKMDbTLYUWP2qq3PU+WkathrVZsAeJbXC3nvPQDlEXhpLiKAf6R7V1GxCuPKdNUhlhcc34sTzagsI5BgbbM+Lb7uLAKBCat6wxhKNQLxq8g3BhPlVDpzWAH5lmBMnsjkkfDwQyXrq7YsxQJHdZs3/dBNI6aZckT1BK9BAYDXRtkXaxaIeWCSa6Jr20C1FMXiLT9vSuWNIwDqrgoQl1cE6tl6obBHogIeCkEPALumgUxrIIJzAjnOu20p5BEdtRAk6iCpCSn/duPQQYQ5zy9yrTTNEkKFq5ZNuOnOMAldhbJpOliX3yJAvsbd/4F8DStneeM/FDUYYFS6osQAAAAASUVORK5CYII="></div>\r\n    </div>\r\n</div>',u=".city-select-module-wrap{position:absolute;top:100%;left:0;width:100%;height:100%;display:none;z-index:1024;background-color:#f7f7f7}.city-select-module-title{height:40px;line-height:40px;font-size:16px;color:#000;width:100%;background:#fafafa;border-bottom:1px solid #e3e3e3;position:absolute;z-index:1110;top:0}.city-select-module-back{width:40px;height:40px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABR0lEQVRYR+2WPW7CQBCF34Ast9yAI5Ao9MEdlNyQG1C6xOmDCDdxCytYtMYkxPJ6fkCisUtrNe/b2fdml/Dij16sjx6g70C0A8l3vgJo7IbpEu9ZaTLrbjNKToc1AeVxOl+21YgDbPOCQJ/e48cN00wNcRXfEOHNw3+5j8VMBYBQ4HwoCJioIf6JY+8G6Sy2gW4TWiAU4qEjfAo0EEpxGUBYJYEwiMsBOAijuA4gBgHgz+3dhtOlIBb8xnFUu6iiphfXd+AGdQcRflnFHwOoh0wFYB1Wohg2j6JhuHoX+mFV1+XnwD1Am9uDCa0TU9WBrqhJ5kTE1LIOSHJuhOABJOIt6ZAak7+Mfq9UYc6VnYgDaHbelhShMfkHiXHCNS6wwk3nmWoUJ9u8AGjU9Zhgn2n1cQC+1L+I2OrPWcCn4Dk60So9QN+BC0CuQzApVg2BAAAAAElFTkSuQmCC);background-position:10px center;background-repeat:no-repeat;position:absolute;left:0;top:0;background-size:24px}.city-select-module-title-name{text-align:center;color:#3e3e3e}.login-module-wrapper{margin-top:40px}.login-module-top-tip{position:absolute;top:48px;font-size:12px;color:#bbb;left:10px}.login-module-tip{text-align:center;padding:10px;color:#bbb}",p={};t();var g={addCont:function(i){if(!this.hasCont()){i=i||{},p=e.extend(p,i);{e(c)}e("body").append(c),l()}return this},hasCont:function(){var i=e("#login-module-wrap");return i.length?!0:!1},showCont:function(){this.hasCont()||this.addCont();var i=e("#login-module-wrap");return i.show().animate({top:0},200),this},hideCont:function(){if(this.hasCont()){var i=e("#login-module-wrap");i.animate({top:"100%"},200,function(){i.hide()})}return this}};return g});