define("js/app/module/bindMobile/bindMobile",["js/lib/jquery-2.1.4","js/app/module/validate/validate","js/app/module/loading/loading","js/app/util/ajax"],function(t,i,o,n){function e(){t("head").append("<style>"+d+"</style>")}function r(){o.createLoading("关联中..."),n.post("805153",{json:{mobile:t("#bind-mobileSms").val(),userId:sessionStorage.getItem("user")}}).then(function(t){o.hideLoading(),t.success?b.hideMobileCont(a.success):a.error&&a.error(t.msg)},function(){o.hideLoading(),a.error&&a.error("手机号关联失败")})}var l='<div id="bindMobileWrap" class="right-left-cont">\r\n    <div class="right-left-cont-title">\r\n        <!-- <div class="right-left-cont-back" id="bind-mobile-back"></div> -->\r\n        <div class="right-left-cont-title-name">绑定手机号</div>\r\n    </div>\r\n    <form class="right-left-cont-info" id="bind-mobile-form">\r\n        <div class="right-left-cont-info-input-wrap">\r\n            <span class="right-left-cont-info-input-left">手机号：</span>\r\n            <div class="right-left-cont-info-input-right">\r\n                <input type="tel" pattern="[0-9]*"  name="bind-mobile" id="bind-mobile" placeholder="请输入手机号">\r\n            </div>\r\n        </div>\r\n        <div class="right-left-cont-btn-wrap">\r\n            <input type="button" id="bind-mobile-btn" value="设置">\r\n        </div>\r\n    </form>\r\n</div>\r\n',d="*{box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}input,button{-webkit-appearance:none;border:0;outline:0}.right-left-cont{position:absolute;top:0;left:100%;width:100%;height:100%;display:none;z-index:1024;background-color:#f0f0f0}.right-left-cont-title{height:40px;line-height:40px;font-size:16px;color:#000;position:relative;border-bottom:1px solid #ededed;background-color:#fff}.right-left-cont-back{width:40px;height:40px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAhCAMAAADj/gtmAAAAXVBMVEUAAACPj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4/ShKOpAAAAHnRSTlMA+/ICzBILBtT27OfYwrupnmhYSTsyJxm2sWBQQSxZCgntAAAAc0lEQVQoz4XSSQ6DMBBEUXAmJxAS5rnuf0zYFl8CL58suV1dyeF0eXGUTNFlzZT3Ju1HEXJ/mDThWpag79OkfotSuMyphpdJlWqE/FymXW4mpfS/kiQomuAWjC9yrrPp+UcmwbyYKrM/M+6R22Yn2Bz2awMrKgnwgdZu+wAAAABJRU5ErkJggg==);background-position:10px center;background-repeat:no-repeat;position:absolute;left:0;top:0;background-size:12px}.right-left-cont-title-name{text-align:center;color:#333}.right-left-cont-info{border-top:1px solid #ededed}.right-left-cont-info-input-wrap{height:50px;background-color:#fff;border-bottom:1px solid #ededed;line-height:50px;position:relative}.right-left-cont-info-input-left{padding-left:15px;padding-right:15px;color:#484848;font-size:15px}.right-left-cont-info-input-right{position:absolute;width:100%;padding-left:100px;left:0;top:0}.right-left-cont-info-input-right input[type=text],.right-left-cont-info-input-right input[type=tel]{width:100%;padding-right:15px;color:#484848;font-size:15px;background-color:transparent}.pr110{padding-right:110px}.captcha-btn{position:absolute;width:90px;height:40px;top:4.5px;right:10px;font-size:13px;color:#fff;background-color:#F64444;border-radius:3px}.p-r{position:relative}.right-left-cont-btn-wrap{padding:30px 15px}.right-left-cont-btn-wrap input{width:100%;line-height:40px;width:100%;border-radius:3px;color:#fff;font-size:14px;background-color:#F64444}",a={},p=!0;e();var b={addMobileCont:function(i){if(i=i||{},a=t.extend(a,i),!this.hasMobileCont()){{t(l)}t("body").append(l)}var o=t("#bindMobileWrap");a.title&&o.find(".right-left-cont-title-name").html(a.title);return p&&(o.find(".right-left-cont-title").on("touchmove",function(t){t.preventDefault()}),t("#bind-mobile-btn").on("click",function(){t("#bind-mobile-form").valid()&&r()}),t("#bind-mobile-form").validate({rules:{"bind-mobile":{required:!0,mobile:!0}},onkeyup:!1})),p=!1,this},hasMobileCont:function(){return t("#bindMobileWrap").length?!0:!1},showMobileCont:function(){if(this.hasMobileCont()){var i=t("#bindMobileWrap");i.css("top",t(window).scrollTop()+"px"),i.show().animate({left:0},200,function(){a.showFun&&a.showFun()})}return this},hideMobileCont:function(i){if(this.hasMobileCont()){var o=t("#bindMobileWrap");o.animate({left:"100%"},200,function(){o.hide(),i&&i(t("#bind-mobile").val()),t("#bind-mobile").val(""),o.find("label.error").remove()})}return this}};return b});